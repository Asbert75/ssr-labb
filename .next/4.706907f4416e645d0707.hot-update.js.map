{"version":3,"file":"4.706907f4416e645d0707.hot-update.js","sources":["webpack:///pages/addWine.js"],"sourcesContent":["import { Component } from 'react'\r\nimport Header from \"../components/Header.js\"\r\nimport WineList from \"../components/WineList.js\"\r\nimport Meta from \"../components/Meta.js\"\r\nimport Link from \"next/link\";\r\nimport Router from 'next/router'\r\n\r\nconst bodyStyle = {\r\n    width: \"800px\",\r\n    margin: \"0 auto\",\r\n    background: \"white\",\r\n    padding: \"1em\",\r\n}\r\n\r\nconst containerStyle = {\r\n    listStyleType: \"none\",\r\n    padding: \"2em\",\r\n    paddingBottom: \"0.5em\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\"\r\n}\r\n\r\nclass Index extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            data: {\r\n                name: \"\",\r\n                price: \"\",\r\n                volume: \"\",\r\n                origin: \"\",\r\n                alcohol: \"\",\r\n                description: \"\",\r\n                year: \"\"\r\n            }\r\n        }\r\n    }\r\n    createWine = () => {\r\n        let data = this.state.data\r\n\r\n        if(data.name && data.price && data.volume && data.origin && data.alcohol && data.description && data.year) {\r\n            let query = \"\"\r\n            query += \"name=\" + data.name\r\n            query += \"&price=\" + data.price\r\n            query += \"&volume=\" + data.volume\r\n            query += \"&origin=\" + data.origin\r\n            query += \"&alcohol=\" + data.alcohol\r\n            query += \"&description=\" + data.description\r\n            query += \"&year=\" + data.year\r\n\r\n            fetch(\"http://localhost:3001/wines?\" + query, { method: \"POST\" })\r\n            .then( data => data.json())\r\n            .then( res => {\r\n                console.log(res)\r\n                Router.push(\"/\")\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInput = (event) => {\r\n        let changedKey = event.target.name\r\n\r\n        let data = {\r\n            ...this.state.data\r\n        }\r\n        \r\n        data[changedKey] = event.target.value\r\n        this.setState({ data })\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={bodyStyle}>\r\n                <Meta />\r\n                <Header />\r\n                <div style={containerStyle}>\r\n                    <h2>Add New Wine</h2>   \r\n                    <br />\r\n                    <label>Name</label>\r\n                    <input name=\"name\" type=\"text\" value={this.state.data.name} onChange={this.handleInput} placeholder=\"Pinot Noir\"/><br />\r\n                    <label>Price</label>\r\n                    <input name=\"price\" type=\"text\" value={this.state.data.price} onChange={this.handleInput} placeholder=\"199\" /><br />\r\n                    <label>Volume</label>\r\n                    <input name=\"volume\" type=\"text\" value={this.state.data.volume} onChange={this.handleInput} placeholder=\"250ml\" /><br />\r\n                    <label>Origin</label>\r\n                    <input name=\"origin\" type=\"text\" value={this.state.data.origin} onChange={this.handleInput} placeholder=\"France\" /><br />\r\n                    <label>Alcoholic Percentage</label>\r\n                    <input name=\"alcohol\" type=\"text\" value={this.state.data.alcohol} onChange={this.handleInput} placeholder=\"15.0\" /><br />\r\n                    <label>Description</label>\r\n                    <input name=\"description\" type=\"text\" value={this.state.data.description} onChange={this.handleInput} placeholder=\"A fresh taste of grape\" /><br />\r\n                    \r\n                    <div>\r\n                        <button onClick={ this.createWine } >Add Wine</button>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Index\n\n\n// WEBPACK FOOTER //\n// pages/addWine.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AA9CA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AADA;AAHA;AAcA;AACA;;;AAgCA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA3EA;AACA;AA6EA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}