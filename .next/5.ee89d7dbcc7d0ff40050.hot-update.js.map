{"version":3,"file":"5.ee89d7dbcc7d0ff40050.hot-update.js","sources":["webpack:///components/WineList.js"],"sourcesContent":["import Link from \"next/link\"\r\nimport { Component } from 'react'\r\n\r\nconst ulStyle = {\r\n    border: \"0px solid red\"\r\n}\r\n\r\nconst liStyle = {\r\n    listStyleType: \"none\",\r\n    padding: \"2em\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\"\r\n}\r\n\r\nconst successStyle = {\r\n    background: \"#bceda6\",\r\n    display: \"inline-block\",\r\n    listStyleType: \"none\",\r\n    width: \"100%\",\r\n    paddingTop: \"0.5em\",\r\n    paddingBottom: \"0.5em\"\r\n}\r\n\r\nconst errorStyle = {\r\n    background: \"#eaa4a4\",\r\n    display: \"inline-block\",\r\n    listStyleType: \"none\",\r\n    width: \"100%\",\r\n    paddingTop: \"0.5em\",\r\n    paddingBottom: \"0.5em\"\r\n}\r\n\r\nconst messageStyle = {\r\n    marginLeft: \"1em\",\r\n    fontWeight: \"600\",\r\n    color: \"#333\"\r\n}\r\n\r\nconst wineFragment = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginBottom: \"0.5em\"\r\n}\r\n\r\nconst description = {\r\n    maxWidth: \"75%\"\r\n}\r\n\r\nconst wineButtons = {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\"\r\n}\r\n\r\nconst editButtons = {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    marginTop: \"1em\"\r\n}\r\n\r\nclass WineList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            edit: false,\r\n            recentlyEdited: false\r\n        }\r\n    }\r\n\r\n    deleteWine = (wine) => {\r\n        fetch(\"http://localhost:3001/wines/\" + wine, { method: \"DELETE\" })\r\n        .then( data => data.json())\r\n        .then( res => {\r\n            // Refresh Wines List\r\n            this.props.updateWineList()\r\n            this.displayInformation(res)\r\n        })\r\n    }\r\n\r\n    editWine = (data) => {\r\n        let query = \"\"\r\n\r\n        if(data.name) {\r\n            query += \"name=\" + data.name\r\n            if(data.price) query += \"&price=\" + data.price\r\n            if(data.currency) query += \"&currency=\" + data.currency\r\n            if(data.volume) query += \"&volume=\" + data.volume\r\n            if(data.origin) query += \"&origin=\" + data.origin\r\n            if(data.alcoholPercentage) query += \"&alcoholPercentage=\" + data.alcoholPercentage\r\n            if(data.description) query += \"&description=\" + data.description   \r\n        }\r\n\r\n        fetch(\"http://localhost:3001/wines?\" + query, { method: \"PUT\" })\r\n        .then( data => data.json())\r\n        .then( res => {\r\n            // Refresh wine list and remove edit data\r\n            this.props.updateWineList()\r\n            this.setState({ edit: false, data: null }, () => { this.displayInformation(res) })\r\n        })\r\n    }\r\n\r\n    displayInformation(res) {\r\n        this.setState({ res }, () => {\r\n            setTimeout( () => {\r\n                this.setState({ res: null })\r\n            }, 2000)\r\n        })\r\n    }\r\n\r\n    handleInput = (event) => {\r\n        let changedKey = event.target.name\r\n        let data = {\r\n            ...this.state.data\r\n        }\r\n        \r\n        data[changedKey] = event.target.value\r\n        this.setState({ data })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul style={ulStyle}>\r\n                { this.state.res \r\n                    ?   this.state.res.Message \r\n                        ?   (<li style={successStyle}>\r\n                                <p style={messageStyle}>{ this.state.res.Message }</p>\r\n                            </li>) \r\n                        :   (<li style={errorStyle}>\r\n                                <p style={messageStyle}>{ this.state.res.Error }</p>\r\n                            </li>)\r\n                    : null } \r\n                { this.props.wines.map( wine => (\r\n                    this.state.edit ? \r\n                        this.state.data.tempName === wine.name ? \r\n                            <li style={liStyle} key={wine.name}>\r\n                                <h3>Editing {this.state.data.tempName}</h3>\r\n                                <br />\r\n                                <label>Name</label>\r\n                                <input name=\"name\" type=\"text\" value={ this.state.data.name } onChange={ this.handleInput } /><br />\r\n                                <label>Price</label>\r\n                                <input name=\"price\" type=\"text\" value={ this.state.data.price } onChange={ this.handleInput } /><br />\r\n                                <label>Currency</label>\r\n                                <input name=\"currency\" type=\"text\" value={ this.state.data.currency } onChange={ this.handleInput } /><br />\r\n                                <label>Volume</label>\r\n                                <input name=\"volume\" type=\"text\" value={ this.state.data.volume } onChange={ this.handleInput } /><br />\r\n                                <label>Origin</label>\r\n                                <input name=\"origin\" type=\"text\" value={ this.state.data.origin } onChange={ this.handleInput } /><br />\r\n                                <label>Percentage</label>\r\n                                <input name=\"alcoholPercentage\" type=\"text\" value={ this.state.data.alcoholPercentage } onChange={ this.handleInput } /><br />\r\n                                <label>Description</label>\r\n                                <input name=\"description\" type=\"text\" value={ this.state.data.description } onChange={ this.handleInput } />\r\n                                <div style={editButtons}>\r\n                                    <button onClick={ () => { this.editWine(this.state.data) } } >Confirm</button>\r\n                                    <button className=\"delete\" onClick={ () => { this.setState({ edit: false, data: null }) } } >Discard</button>\r\n                                </div>\r\n                            </li>\r\n                        :   null\r\n                    :   <li style={liStyle} key={wine.name}>\r\n                            <div style={wineFragment}>\r\n                                <div style={wine}>\r\n                                    <h2>{ wine.name }</h2>\r\n                                    <p>{ wine.origin }</p>\r\n                                </div>\r\n                                <div>\r\n                                    <h2>{ wine.price + wine.currency }</h2>\r\n                                    <p>{ wine.alcoholPercentage } %, { wine.volume }</p>\r\n                                </div>\r\n                            </div>\r\n                            <div style={wineFragment}>\r\n                                <p style={description}>{ wine.description }</p>\r\n                            </div>\r\n                            <div style={wineButtons}>\r\n                                <button className=\"edit\" onClick={ () => { \r\n                                    let data = {\r\n                                        ...wine,\r\n                                        tempName: wine.name\r\n                                    }\r\n\r\n                                    this.setState({ edit: true, data })\r\n                                }} >Edit</button>\r\n                                <button className=\"delete\" onClick={ () => { this.deleteWine(wine.name) } } >Delete</button>\r\n                            </div>\r\n                        </li>\r\n                )) }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WineList\n\n\n// WEBPACK FOOTER //\n// components/WineList.js"],"mappings":"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","sourceRoot":""}