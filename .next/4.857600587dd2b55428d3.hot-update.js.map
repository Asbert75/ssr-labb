{"version":3,"file":"4.857600587dd2b55428d3.hot-update.js","sources":["webpack:///components/WineList.js"],"sourcesContent":["import Link from \"next/link\";\r\nimport { Component } from 'react'\r\n\r\nconst ulStyle = {\r\n    border: \"1px solid red\"\r\n}\r\n\r\nconst liStyle = {\r\n    listStyleType: \"none\"\r\n}\r\n\r\nclass WineList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            edit: false\r\n        }\r\n    }\r\n\r\n    deleteWine = (wine) => {\r\n        fetch(\"http://localhost:3001/wines/\" + wine, { method: \"DELETE\" })\r\n        .then( data => data.json())\r\n        .then( res => {\r\n            console.log(res)\r\n            // Refresh Wines List\r\n            this.props.updateWineList()\r\n        })\r\n    }\r\n\r\n    createWine = (data) => {\r\n        let query\r\n        query += \"name=\" + data.name\r\n        query += \"&price=\" + data.price\r\n        query += \"&currency=\" + data.currency\r\n        query += \"&volume=\" + data.volume\r\n        query += \"&origin=\" + data.origin\r\n        query += \"&alcoholPercentage=\" + data.alcoholPercentage\r\n        query += \"&description=\" + data.description\r\n\r\n        fetch(\"http://localhost:3001/wines?\" + query, { method: \"POST\" })\r\n        .then( data => data.json())\r\n        .then( res => { \r\n            console.log(res)\r\n            // Refresh Wines List\r\n            this.props.updateWineList()\r\n        })\r\n    }\r\n\r\n    editWine = (data) => {\r\n        let query\r\n        if(data.name) {\r\n            query += \"name=\" + data.name\r\n            if(data.price) query += \"&price=\" + data.price\r\n            if(data.currency) query += \"&currency=\" + data.currency\r\n            if(data.volume) query += \"&volume=\" + data.volume\r\n            if(data.origin) query += \"&origin=\" + data.origin\r\n            if(data.alcoholPercentage) query += \"&alcoholPercentage=\" + data.alcoholPercentage\r\n            if(data.description) query += \"&description=\" + data.description   \r\n        }\r\n\r\n        fetch(\"http://localhost:3001/wines?\" + query, { method: \"PUT\" })\r\n        .then( data => data.json())\r\n        .then( res => { \r\n            console.log(res)\r\n            // Refresh Wines List\r\n            this.props.updateWineList()\r\n        })\r\n    }\r\n\r\n    handleInput = (event) => {\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul style={ulStyle}>\r\n                <li style={liStyle} key=\"addWine\">\r\n                    \r\n                    <button onClick={ this.createWine } >Add Wine</button>\r\n                </li>\r\n                { this.props.wines.map( wine => (\r\n                    this.state.edit ? \r\n                        this.state.data.name === wine.name ? \r\n                            <li style={liStyle} key={wine.name}>\r\n                                <h4>Editing {wine.name}</h4>\r\n                                <input name=\"name\" type=\"text\" value={ this.state.data.name } onChange={ this.handleInput } />\r\n                                <input name=\"price\" type=\"text\" value={ this.state.data.price } />\r\n                                <input name=\"currency\" type=\"text\" value={ this.state.data.currency } />\r\n                                <input name=\"volume\" type=\"text\" value={ this.state.data.volume } />\r\n                                <input name=\"origin\" type=\"text\" value={ this.state.data.origin } />\r\n                                <input name=\"alcoholPercentage\" type=\"text\" value={ this.state.data.alcoholPercentage } />\r\n                                <input name=\"description\" type=\"text\" value={ this.state.data.description } />\r\n                                <button onClick={ () => { this.setState({ edit: false, data: null }) } } >Cancel Edit</button>\r\n                            </li>\r\n                        :   null\r\n                    :   <li style={liStyle} key={wine.name}>\r\n                            <h3>{ wine.name }</h3>\r\n                            <p>Price: { wine.price + wine.currency }</p>\r\n                            <p>Volume: { wine.volume }</p>\r\n                            <p>Origin: { wine.origin }</p>\r\n                            <p>Alcohol: { wine.alcoholPercentage }%</p>\r\n                            <p>Description: { wine.description }</p>\r\n                            <button onClick={ () => { this.deleteWine(wine.name) } }>Delete</button>\r\n                            <button onClick={ () => { this.setState({ edit: true, data: wine }) } } >Edit</button>\r\n                        </li>\r\n                )) }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WineList\n\n\n// WEBPACK FOOTER //\n// components/WineList.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AADA;AAIA;AACA;AADA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AADA;AAHA;AAMA;AACA;;;AAuDA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBA;AA4BA;;;;AAlGA;AACA;AAoGA;;;;A","sourceRoot":""}