{"version":3,"file":"4.77abf97614a58364a6cf.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import { Component } from 'react'\r\nimport Header from \"../components/Header.js\"\r\nimport WineList from \"../components/WineList.js\"\r\n\r\nclass Index extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            wines: []\r\n        }\r\n    }\r\n\r\n    fetchWines = () => {\r\n        this.setState({ loaded: false })\r\n        fetch(\"http://localhost:3001/wines\", { method: \"GET\" })\r\n        .then( data => data.json())\r\n        .then ( res => this.displayWines(res))\r\n    }\r\n\r\n    displayWines = (list) => {\r\n        let wines = []\r\n        Object.keys(list).forEach( item => {\r\n            wines.push( { \r\n                name: item,\r\n                price: list[item].price,\r\n                currency: list[item].currency,\r\n                volume: list[item].volume,\r\n                origin: list[item].origin,\r\n                alcoholPercentage: list[item].alcoholPercentage,\r\n                description: list[item].description\r\n            })\r\n        })\r\n\r\n        this.setState({ wines, loaded: true })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchWines()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                { this.state.loaded ? <WineList wines={this.state.wines} updateWineList={this.fetchWines} /> : <h2>Loading...</h2> }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Index\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AA9BA;AAGA;AACA;AADA;AAHA;AAMA;AACA;;;AAyBA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA5CA;AACA;AA8CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}